[{"/home/project/xrwvm-fullstack_developer_capstone/server/frontend/src/index.js":"1","/home/project/xrwvm-fullstack_developer_capstone/server/frontend/src/App.js":"2","/home/project/xrwvm-fullstack_developer_capstone/server/frontend/src/components/Login/Login.jsx":"3","/home/project/xrwvm-fullstack_developer_capstone/server/frontend/src/components/Header/Header.jsx":"4","/home/project/xrwvm-fullstack_developer_capstone/server/frontend/src/components/Register/Register.jsx":"5","/home/project/xrwvm-fullstack_developer_capstone/server/frontend/src/components/Dealers/Dealers.jsx":"6","/home/project/xrwvm-fullstack_developer_capstone/server/frontend/src/components/Dealers/Dealer.jsx":"7","/home/project/xrwvm-fullstack_developer_capstone/server/frontend/src/components/Dealers/PostReview.jsx":"8"},{"size":282,"mtime":1761073738640,"results":"9","hashOfConfig":"10"},{"size":732,"mtime":1761077359992,"results":"11","hashOfConfig":"10"},{"size":2129,"mtime":1761073738635,"results":"12","hashOfConfig":"10"},{"size":2686,"mtime":1761073738635,"results":"13","hashOfConfig":"10"},{"size":5400,"mtime":1761073738635,"results":"14","hashOfConfig":"10"},{"size":2575,"mtime":1761073738634,"results":"15","hashOfConfig":"10"},{"size":3518,"mtime":1761077740929,"results":"16","hashOfConfig":"10"},{"size":3615,"mtime":1761073738634,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","suppressedMessages":"20","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1tim0k8",{"filePath":"21","messages":"22","suppressedMessages":"23","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"24","messages":"25","suppressedMessages":"26","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","suppressedMessages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","suppressedMessages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","suppressedMessages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36"},{"filePath":"37","messages":"38","suppressedMessages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","suppressedMessages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43"},"/home/project/xrwvm-fullstack_developer_capstone/server/frontend/src/index.js",[],[],"/home/project/xrwvm-fullstack_developer_capstone/server/frontend/src/App.js",[],[],"/home/project/xrwvm-fullstack_developer_capstone/server/frontend/src/components/Login/Login.jsx",[],[],"/home/project/xrwvm-fullstack_developer_capstone/server/frontend/src/components/Header/Header.jsx",[],[],"/home/project/xrwvm-fullstack_developer_capstone/server/frontend/src/components/Register/Register.jsx",[],[],"/home/project/xrwvm-fullstack_developer_capstone/server/frontend/src/components/Dealers/Dealers.jsx",["44"],[],"import React, { useState, useEffect } from 'react';\nimport \"./Dealers.css\";\nimport \"../assets/style.css\";\nimport Header from '../Header/Header';\nimport review_icon from \"../assets/reviewicon.png\"\n\nconst Dealers = () => {\n  const [dealersList, setDealersList] = useState([]);\n  // let [state, setState] = useState(\"\")\n  let [states, setStates] = useState([])\n\n  // let root_url = window.location.origin\n  let dealer_url =\"/djangoapp/get_dealers\";\n  \n  let dealer_url_by_state = \"/djangoapp/get_dealers/\";\n \n  const filterDealers = async (state) => {\n    dealer_url_by_state = dealer_url_by_state+state;\n    const res = await fetch(dealer_url_by_state, {\n      method: \"GET\"\n    });\n    const retobj = await res.json();\n    if(retobj.status === 200) {\n      let state_dealers = Array.from(retobj.dealers)\n      setDealersList(state_dealers)\n    }\n  }\n\n  const get_dealers = async ()=>{\n    const res = await fetch(dealer_url, {\n      method: \"GET\"\n    });\n    const retobj = await res.json();\n    if(retobj.status === 200) {\n      let all_dealers = Array.from(retobj.dealers)\n      let states = [];\n      all_dealers.forEach((dealer)=>{\n        states.push(dealer.state)\n      });\n\n      setStates(Array.from(new Set(states)))\n      setDealersList(all_dealers)\n    }\n  }\n  useEffect(() => {\n    get_dealers();\n  },[]);  \n\n\nlet isLoggedIn = sessionStorage.getItem(\"username\") != null ? true : false;\nreturn(\n  <div>\n      <Header/>\n\n     <table className='table'>\n      <tr>\n      <th>ID</th>\n      <th>Dealer Name</th>\n      <th>City</th>\n      <th>Address</th>\n      <th>Zip</th>\n      <th>\n      <select name=\"state\" id=\"state\" onChange={(e) => filterDealers(e.target.value)}>\n      <option value=\"\" selected disabled hidden>State</option>\n      <option value=\"All\">All States</option>\n      {states.map(state => (\n          <option value={state}>{state}</option>\n      ))}\n      </select>        \n\n      </th>\n      {isLoggedIn ? (\n          <th>Review Dealer</th>\n         ):<></>\n      }\n      </tr>\n     {dealersList.map(dealer => (\n        <tr>\n          <td>{dealer['id']}</td>\n          <td><a href={'/dealer/'+dealer['id']}>{dealer['full_name']}</a></td>\n          <td>{dealer['city']}</td>\n          <td>{dealer['address']}</td>\n          <td>{dealer['zip']}</td>\n          <td>{dealer['state']}</td>\n          {isLoggedIn ? (\n            <td><a href={`/postreview/${dealer['id']}`}><img src={review_icon} className=\"review_icon\" alt=\"Post Review\"/></a></td>\n           ):<></>\n          }\n        </tr>\n      ))}\n     </table>;\n  </div>\n)\n}\n\nexport default Dealers\n","/home/project/xrwvm-fullstack_developer_capstone/server/frontend/src/components/Dealers/Dealer.jsx",[],[],"/home/project/xrwvm-fullstack_developer_capstone/server/frontend/src/components/Dealers/PostReview.jsx",["45"],[],"import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport \"./Dealers.css\";\nimport \"../assets/style.css\";\nimport Header from '../Header/Header';\n\n\nconst PostReview = () => {\n  const [dealer, setDealer] = useState({});\n  const [review, setReview] = useState(\"\");\n  const [model, setModel] = useState();\n  const [year, setYear] = useState(\"\");\n  const [date, setDate] = useState(\"\");\n  const [carmodels, setCarmodels] = useState([]);\n\n  let curr_url = window.location.href;\n  let root_url = curr_url.substring(0,curr_url.indexOf(\"postreview\"));\n  let params = useParams();\n  let id =params.id;\n  let dealer_url = root_url+`djangoapp/dealer/${id}`;\n  let review_url = root_url+`djangoapp/add_review`;\n  let carmodels_url = root_url+`djangoapp/get_cars`;\n\n  const postreview = async ()=>{\n    let name = sessionStorage.getItem(\"firstname\")+\" \"+sessionStorage.getItem(\"lastname\");\n    //If the first and second name are stores as null, use the username\n    if(name.includes(\"null\")) {\n      name = sessionStorage.getItem(\"username\");\n    }\n    if(!model || review === \"\" || date === \"\" || year === \"\" || model === \"\") {\n      alert(\"All details are mandatory\")\n      return;\n    }\n\n    let model_split = model.split(\" \");\n    let make_chosen = model_split[0];\n    let model_chosen = model_split[1];\n\n    let jsoninput = JSON.stringify({\n      \"name\": name,\n      \"dealership\": id,\n      \"review\": review,\n      \"purchase\": true,\n      \"purchase_date\": date,\n      \"car_make\": make_chosen,\n      \"car_model\": model_chosen,\n      \"car_year\": year,\n    });\n\n    console.log(jsoninput);\n    const res = await fetch(review_url, {\n      method: \"POST\",\n      headers: {\n          \"Content-Type\": \"application/json\",\n      },\n      body: jsoninput,\n  });\n\n  const json = await res.json();\n  if (json.status === 200) {\n      window.location.href = window.location.origin+\"/dealer/\"+id;\n  }\n\n  }\n  const get_dealer = async ()=>{\n    const res = await fetch(dealer_url, {\n      method: \"GET\"\n    });\n    const retobj = await res.json();\n    \n    if(retobj.status === 200) {\n      let dealerobjs = Array.from(retobj.dealer)\n      if(dealerobjs.length > 0)\n        setDealer(dealerobjs[0])\n    }\n  }\n\n  const get_cars = async ()=>{\n    const res = await fetch(carmodels_url, {\n      method: \"GET\"\n    });\n    const retobj = await res.json();\n    \n    let carmodelsarr = Array.from(retobj.CarModels)\n    setCarmodels(carmodelsarr)\n  }\n  useEffect(() => {\n    get_dealer();\n    get_cars();\n  },[]);\n\n\n  return (\n    <div>\n      <Header/>\n      <div  style={{margin:\"5%\"}}>\n      <h1 style={{color:\"darkblue\"}}>{dealer.full_name}</h1>\n      <textarea id='review' cols='50' rows='7' onChange={(e) => setReview(e.target.value)}></textarea>\n      <div className='input_field'>\n      Purchase Date <input type=\"date\" onChange={(e) => setDate(e.target.value)}/>\n      </div>\n      <div className='input_field'>\n      Car Make \n      <select name=\"cars\" id=\"cars\" onChange={(e) => setModel(e.target.value)}>\n      <option value=\"\" selected disabled hidden>Choose Car Make and Model</option>\n      {carmodels.map(carmodel => (\n          <option value={carmodel.CarMake+\" \"+carmodel.CarModel}>{carmodel.CarMake} {carmodel.CarModel}</option>\n      ))}\n      </select>        \n      </div >\n\n      <div className='input_field'>\n      Car Year <input type=\"int\" onChange={(e) => setYear(e.target.value)} max={2023} min={2015}/>\n      </div>\n\n      <div>\n      <button className='postreview' onClick={postreview}>Post Review</button>\n      </div>\n    </div>\n    </div>\n  )\n}\nexport default PostReview\n",{"ruleId":"46","severity":1,"message":"47","line":47,"column":5,"nodeType":"48","endLine":47,"endColumn":7,"suggestions":"49"},{"ruleId":"46","severity":1,"message":"50","line":90,"column":5,"nodeType":"48","endLine":90,"endColumn":7,"suggestions":"51"},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'get_dealers'. Either include it or remove the dependency array.","ArrayExpression",["52"],"React Hook useEffect has missing dependencies: 'get_cars' and 'get_dealer'. Either include them or remove the dependency array.",["53"],{"desc":"54","fix":"55"},{"desc":"56","fix":"57"},"Update the dependencies array to be: [get_dealers]",{"range":"58","text":"59"},"Update the dependencies array to be: [get_cars, get_dealer]",{"range":"60","text":"61"},[1312,1314],"[get_dealers]",[2521,2523],"[get_cars, get_dealer]"]