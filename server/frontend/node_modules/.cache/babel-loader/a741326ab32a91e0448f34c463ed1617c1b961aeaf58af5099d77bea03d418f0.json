{"ast":null,"code":"import React,{useState}from'react';import\"./Login.css\";import Header from'../Header/Header';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Login=_ref=>{let{onClose}=_ref;const[userName,setUserName]=useState(\"\");const[password,setPassword]=useState(\"\");const[open,setOpen]=useState(true);let login_url=window.location.origin+\"/djangoapp/login\";const login=async e=>{e.preventDefault();const res=await fetch(login_url,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({\"userName\":userName,\"password\":password})});const json=await res.json();if(json.status!=null&&json.status===\"Authenticated\"){sessionStorage.setItem('username',json.userName);setOpen(false);}else{alert(\"The user could not be authenticated.\");}};if(!open){window.location.href=\"/\";};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{onClick:onClose,children:/*#__PURE__*/_jsx(\"div\",{onClick:e=>{e.stopPropagation();},className:\"modalContainer\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"login_panel\",style:{},onSubmit:login,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"input_field\",children:\"Username \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",placeholder:\"Username\",className:\"input_field\",onChange:e=>setUserName(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"input_field\",children:\"Password \"}),/*#__PURE__*/_jsx(\"input\",{name:\"psw\",type:\"password\",placeholder:\"Password\",className:\"input_field\",onChange:e=>setPassword(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{className:\"action_button\",type:\"submit\",value:\"Login\"}),/*#__PURE__*/_jsx(\"input\",{className:\"action_button\",type:\"button\",value:\"Cancel\",onClick:()=>setOpen(false)})]}),/*#__PURE__*/_jsx(\"a\",{className:\"loginlink\",href:\"/register\",children:\"Register Now\"})]})})})]});};export default Login;","map":{"version":3,"names":["React","useState","Header","jsx","_jsx","jsxs","_jsxs","Login","_ref","onClose","userName","setUserName","password","setPassword","open","setOpen","login_url","window","location","origin","login","e","preventDefault","res","fetch","method","headers","body","JSON","stringify","json","status","sessionStorage","setItem","alert","href","children","onClick","stopPropagation","className","style","onSubmit","type","name","placeholder","onChange","target","value"],"sources":["/home/project/xrwvm-fullstack_developer_capstone/server/frontend/src/components/Login/Login.jsx"],"sourcesContent":["import React, { useState } from 'react';\n\nimport \"./Login.css\";\nimport Header from '../Header/Header';\n\nconst Login = ({ onClose }) => {\n\n  const [userName, setUserName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [open,setOpen] = useState(true)\n\n  let login_url = window.location.origin+\"/djangoapp/login\";\n\n  const login = async (e) => {\n    e.preventDefault();\n\n    const res = await fetch(login_url, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n            \"userName\": userName,\n            \"password\": password\n        }),\n    });\n    \n    const json = await res.json();\n    if (json.status != null && json.status === \"Authenticated\") {\n        sessionStorage.setItem('username', json.userName);\n        setOpen(false);        \n    }\n    else {\n      alert(\"The user could not be authenticated.\")\n    }\n};\n\n  if (!open) {\n    window.location.href = \"/\";\n  };\n  \n\n  return (\n    <div>\n      <Header/>\n    <div onClick={onClose}>\n      <div\n        onClick={(e) => {\n          e.stopPropagation();\n        }}\n        className='modalContainer'\n      >\n          <form className=\"login_panel\" style={{}} onSubmit={login}>\n              <div>\n              <span className=\"input_field\">Username </span>\n              <input type=\"text\"  name=\"username\" placeholder=\"Username\" className=\"input_field\" onChange={(e) => setUserName(e.target.value)}/>\n              </div>\n              <div>\n              <span className=\"input_field\">Password </span>\n              <input name=\"psw\" type=\"password\"  placeholder=\"Password\" className=\"input_field\" onChange={(e) => setPassword(e.target.value)}/>            \n              </div>\n              <div>\n              <input className=\"action_button\" type=\"submit\" value=\"Login\"/>\n              <input className=\"action_button\" type=\"button\" value=\"Cancel\" onClick={()=>setOpen(false)}/>\n              </div>\n              <a className=\"loginlink\" href=\"/register\">Register Now</a>\n          </form>\n      </div>\n    </div>\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}